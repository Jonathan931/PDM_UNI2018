{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"eventemitter3","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  var _possibleConstructorReturn = _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/possibleConstructorReturn\");\n\n  var _getPrototypeOf = _$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/getPrototypeOf\");\n\n  var _inherits = _$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/inherits\");\n\n  var EventEmitter = _$$_REQUIRE(_dependencyMap[5], \"eventemitter3\");\n\n  var WebSocketHMRClient = function (_EventEmitter) {\n    _inherits(WebSocketHMRClient, _EventEmitter);\n\n    function WebSocketHMRClient(url) {\n      var _this;\n\n      _classCallCheck(this, WebSocketHMRClient);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(WebSocketHMRClient).call(this));\n      _this._url = url;\n      return _this;\n    }\n\n    _createClass(WebSocketHMRClient, [{\n      key: \"enable\",\n      value: function enable() {\n        var _this2 = this;\n\n        if (this._ws) {\n          this.disable();\n        }\n\n        this._ws = new global.WebSocket(this._url);\n\n        this._ws.onopen = function () {\n          _this2.emit(\"open\");\n        };\n\n        this._ws.onerror = function (error) {\n          _this2.emit(\"connection-error\", error);\n        };\n\n        this._ws.onclose = function () {\n          _this2.emit(\"close\");\n        };\n\n        this._ws.onmessage = function (message) {\n          var data = JSON.parse(message.data);\n\n          switch (data.type) {\n            case \"update-start\":\n              _this2.emit(\"update-start\");\n\n              break;\n\n            case \"update\":\n              _this2.emit(\"update\", data.body);\n\n              break;\n\n            case \"update-done\":\n              _this2.emit(\"update-done\");\n\n              break;\n\n            case \"error\":\n              _this2.emit(\"error\", data.body);\n\n              break;\n\n            default:\n              _this2.emit(\"error\", {\n                type: \"unknown-message\",\n                message: data\n              });\n\n          }\n        };\n      }\n    }, {\n      key: \"disable\",\n      value: function disable() {\n        if (this._ws) {\n          this._ws.close();\n\n          this._ws = undefined;\n        }\n      }\n    }]);\n\n    return WebSocketHMRClient;\n  }(EventEmitter);\n\n  module.exports = WebSocketHMRClient;\n});","map":[[2,0,10,0],[14,0,12,0],[14,6,12,6,"EventEmitter"],[14,18,12,18],[14,21,12,21,"require"],[14,32,12,28],[14,68,12,0],[16,6,18,6,"WebSocketHMRClient"],[16,24],[19,0,19,2],[19,32,19,14,"url"],[19,35,19,2],[19,37,19,19],[20,0,19,19],[22,0,19,19],[24,0,20,4],[25,0,21,4],[25,12,21,9,"_url"],[25,16,21,4],[25,19,21,16,"url"],[25,22,21,4],[26,0,19,19],[27,0,22,3],[31,31,24,11],[32,0,24,11],[34,0,25,4],[34,12,25,8],[34,17,25,13,"_ws"],[34,20,25,4],[34,22,25,18],[35,0,26,6],[35,15,26,11,"disable"],[35,22,26,6],[36,0,27,5],[38,0,31,4],[38,13,31,9,"_ws"],[38,16,31,4],[38,19,31,15],[38,23,31,19,"global"],[38,29,31,25],[38,30,31,26,"WebSocket"],[38,39,31,15],[38,40,31,36],[38,45,31,41,"_url"],[38,49,31,15],[38,50,31,4],[40,0,32,4],[40,13,32,9,"_ws"],[40,16,32,4],[40,17,32,13,"onopen"],[40,23,32,4],[40,26,32,22],[40,38,32,28],[41,0,33,6],[41,10,33,6],[41,16,33,10],[41,17,33,11,"emit"],[41,21,33,6],[41,22,33,16],[41,28,33,6],[42,0,34,5],[42,9,32,4],[44,0,35,4],[44,13,35,9,"_ws"],[44,16,35,4],[44,17,35,13,"onerror"],[44,24,35,4],[44,27,35,23],[44,37,35,23,"error"],[44,42,35,28],[44,44,35,32],[45,0,36,6],[45,10,36,6],[45,16,36,10],[45,17,36,11,"emit"],[45,21,36,6],[45,22,36,16],[45,40,36,6],[45,42,36,36,"error"],[45,47,36,6],[46,0,37,5],[46,9,35,4],[48,0,38,4],[48,13,38,9,"_ws"],[48,16,38,4],[48,17,38,13,"onclose"],[48,24,38,4],[48,27,38,23],[48,39,38,29],[49,0,39,6],[49,10,39,6],[49,16,39,10],[49,17,39,11,"emit"],[49,21,39,6],[49,22,39,16],[49,29,39,6],[50,0,40,5],[50,9,38,4],[52,0,41,4],[52,13,41,9,"_ws"],[52,16,41,4],[52,17,41,13,"onmessage"],[52,26,41,4],[52,29,41,25],[52,39,41,25,"message"],[52,46,41,32],[52,48,41,36],[53,0,42,6],[53,14,42,12,"data"],[53,18,42,16],[53,21,42,19,"JSON"],[53,25,42,23],[53,26,42,24,"parse"],[53,31,42,19],[53,32,42,30,"message"],[53,39,42,37],[53,40,42,38,"data"],[53,44,42,19],[53,45,42,6],[55,0,44,6],[55,18,44,14,"data"],[55,22,44,18],[55,23,44,19,"type"],[55,27,44,6],[56,0,45,8],[56,17,45,13],[56,31,45,8],[57,0,46,10],[57,14,46,10],[57,20,46,14],[57,21,46,15,"emit"],[57,25,46,10],[57,26,46,20],[57,40,46,10],[59,0,47,10],[61,0,49,8],[61,17,49,13],[61,25,49,8],[62,0,50,10],[62,14,50,10],[62,20,50,14],[62,21,50,15,"emit"],[62,25,50,10],[62,26,50,20],[62,34,50,10],[62,36,50,30,"data"],[62,40,50,34],[62,41,50,35,"body"],[62,45,50,10],[64,0,51,10],[66,0,53,8],[66,17,53,13],[66,30,53,8],[67,0,54,10],[67,14,54,10],[67,20,54,14],[67,21,54,15,"emit"],[67,25,54,10],[67,26,54,20],[67,39,54,10],[69,0,55,10],[71,0,57,8],[71,17,57,13],[71,24,57,8],[72,0,58,10],[72,14,58,10],[72,20,58,14],[72,21,58,15,"emit"],[72,25,58,10],[72,26,58,20],[72,33,58,10],[72,35,58,29,"data"],[72,39,58,33],[72,40,58,34,"body"],[72,44,58,10],[74,0,59,10],[76,0,61,8],[77,0,62,10],[77,14,62,10],[77,20,62,14],[77,21,62,15,"emit"],[77,25,62,10],[77,26,62,20],[77,33,62,10],[77,35,62,29],[78,0,62,31,"type"],[78,16,62,31,"type"],[78,20,62,35],[78,22,62,37],[78,39,62,29],[79,0,62,56,"message"],[79,16,62,56,"message"],[79,23,62,63],[79,25,62,65,"data"],[80,0,62,29],[80,15,62,10],[82,0,44,6],[83,0,64,5],[83,9,41,4],[84,0,65,3],[87,32,67,12],[88,0,68,4],[88,12,68,8],[88,17,68,13,"_ws"],[88,20,68,4],[88,22,68,18],[89,0,69,6],[89,15,69,11,"_ws"],[89,18,69,6],[89,19,69,15,"close"],[89,24,69,6],[91,0,70,6],[91,15,70,11,"_ws"],[91,18,70,6],[91,21,70,17,"undefined"],[91,30,70,6],[92,0,71,5],[93,0,72,3],[97,4,18,33,"EventEmitter"],[97,16],[99,0,75,0,"module"],[99,2,75,0,"module"],[99,8,75,6],[99,9,75,7,"exports"],[99,16,75,0],[99,19,75,17,"WebSocketHMRClient"],[99,37,75,0]]},"type":"js/module"}]}